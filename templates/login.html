{% extends 'base.html' %}
{% block title %}Login{% endblock title %}
{% block body %}

<div class="slate-container">
    <div class="flex-row row-responsive">
        <div class="flex-object signin-parent-container">
            <div class="fnt-med noselect">SIGN IN</div>

            <br><br>
            <div class="signin-container noselect">

                <form id="login_form" action="/handlelogin" method="post">

                    {% csrf_token %}

                    <input type="text" name="login_username" id="login_username" placeholder="Username"
                        required><br><br>

                    <div style="position: relative;">
                        <input type="password" name="login_password" id="login_password" placeholder="Password"
                            required>
                        <div class="tooltip">
                            <div class="tooltiptext" style="bottom: -60px;">Show Password</div>
                            <img onclick="togglePasswordView(document.getElementById('login_password'), this)"
                                id="showloginpasswordbtn"
                                style="width: 15px; position: absolute; bottom: -30px; right: 10px;"
                                src="https://img.icons8.com/material-outlined/24/ffffff/closed-eye.png" />
                        </div>
                    </div>
                    <br>
                    <button style="margin-left: 0" id="login_btn" type="button" onclick="loginUser()">LOGIN</button>

                </form>
                <br>
                <h5>OR</h5>
                <br>

                <div class="tooltip">

                    <div class="social_login orange_neon" style="background-color: #171515;">
                        Login Using GitHub
                        <img src="https://img.icons8.com/ios-glyphs/50/ffffff/github.png" style="float: right;">
                    </div>
                    <div class="tooltiptext">Coming Soon!</div>
                </div>


                <script> // UI Scripting
                    function togglePasswordView(inpobj, eye) {

                        if (inpobj.type == 'password') {
                            inpobj.type = 'text'; // Open Eye
                            eye.src = "https://img.icons8.com/fluency-systems-filled/48/ee4036/visible.png";
                        } else {
                            inpobj.type = 'password'; // Closed Eye
                            eye.src = "https://img.icons8.com/material-outlined/24/ffffff/closed-eye.png";
                        }
                    }

                </script>
            </div>

        </div>




        <hr style="height: 70vh;">
        <div class="flex-object signin-parent-container flex-grow">
            <div class="fnt-med">SIGN UP</div><br><br>


            <div class="signin-container noselect">

                <form id="signup_form" action="/handlesignup" method="post">

                    {% csrf_token %}

                    <input style="width: 90%;" type="text" name="signup_username" id="signup_username"
                        autocomplete="off" placeholder="Username" required><br><br>
                    <input style="width: 90%;" type="text" name="first_name" id="first_name" autocomplete="off"
                        placeholder="Display Name"><br><br>
                    <input style="width: 90%;" type="email" name="email" id="email" autocomplete="off"
                        placeholder="E-mail" required><br><br>
                    <input style="width: 90%;" type="text" name="github_username" id="github_username"
                        autocomplete="off" placeholder="GitHub Username (Only for developers)"><br><br>

                    <div style="position: relative;">
                        <input style="width: 90%;" type="password" name="signup_password" id="signup_password"
                            placeholder="Password" required>
                        <input style="width: 90%;" type="password" name="cf_signup_password" id="cf_signup_password"
                            placeholder="Confirm Password" required>
                        <div class="tooltip">
                            <div class="tooltiptext" style="bottom: -60px;">Show Password</div>
                            <img onclick="togglePasswordView(document.getElementById('signup_password'), this);togglePasswordView(document.getElementById('cf_signup_password'), this);"
                                id="showloginpasswordbtn"
                                style="width: 15px; position: absolute; bottom: -30px; right: 10px;"
                                src="https://img.icons8.com/material-outlined/24/ffffff/closed-eye.png" />
                        </div>
                    </div>
                    <br>
                    <br>
                    <input 
                        onclick="if(this.value == 'off'){this.value = 'on'}else{this.value = 'off'} console.log(this.value);" 
                        type="checkbox" name="agreed2TNC" id="agreed2TNC"><script>document.getElementById('agreed2TNC').value = 'off';</script>
                    I agree to the <a href="#">Terms and Conditions</a>...
                    <br>
                    <button style="margin-left: 0" id="signup_btn" type="button" onclick="signUpUser()">SIGN UP</button>

                </form>
            </div>

        </div>


    </div>

</div>

<script>

    loginform = document.getElementById('login_form');
    signupform = document.getElementById('signup_form');
    function loginUser(){
        pushLoaderUI(document.getElementById('login_btn'));

        if(loginform.reportValidity() == false){
            removeLoaderUI(document.getElementById('login_btn'), "LOGIN");
            console.log("ERE")
            return null;
        }
        
        // Execute Code
        loginform.submit();
        
    }
    
    function signUpUser(){
        if(signupform.reportValidity() == false){
            return null;
        }
        
        // Execute Code
        
        

    }

</script>

{% endblock body %}